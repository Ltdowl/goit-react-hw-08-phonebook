"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[619],{7619:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var a=n(5861),r=n(7757),s=n.n(r),c=n(2791),i=n(8687),l=n(2793),o=n(885),d=n(5984),u=n(3855),h=n(3360),m=n(184);var x=(0,i.$j)(null,(function(e){return{onSubmit:function(t){e(l.mh.addContact(t))}}}))((function(e){var t=e.onSubmit,n=(0,c.useState)(""),a=(0,o.Z)(n,2),r=a[0],s=a[1],i=(0,c.useState)(""),l=(0,o.Z)(i,2),x=l[0],j=l[1],p=(0,d.x0)(),f=(0,d.x0)();function b(e){var t=e.target,n=t.name,a=t.value;switch(n){case"username":s(a);break;case"number":j(a);break;default:return}}return(0,m.jsxs)(u.Z,{onSubmit:function(e){e.preventDefault(),t({name:r,number:x}),s(""),j("")},children:[(0,m.jsxs)(u.Z.Group,{className:"mb-3",children:[(0,m.jsx)(u.Z.Label,{htmlFor:p,children:"Name"}),(0,m.jsx)(u.Z.Control,{type:"text",name:"username",value:r,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",id:p,onChange:b,required:!0})]}),(0,m.jsxs)(u.Z.Group,{className:"mb-3",children:[(0,m.jsx)(u.Z.Label,{htmlFor:f,children:"Number"}),(0,m.jsx)(u.Z.Control,{type:"tel",name:"number",value:x,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",id:f,onChange:b,required:!0})]}),(0,m.jsx)(h.Z,{type:"submit",children:"Add contact"})]})})),j=n(9085),p=function(e){var t=e.contact,n=t.id,a=t.name,r=t.number,s=(0,i.v9)(l.lP.getLoading),c=(0,i.I0)();return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:a}),(0,m.jsx)("td",{children:r}),(0,m.jsx)("td",{children:(0,m.jsx)(h.Z,{onClick:function(){return function(e){c(l.mh.deleteContact(e),j.Am.success("Contact deleted."))}(n)},disabled:s,children:"Delete"})})]},n)},f=n(4583),b=n(2591),Z=function(){var e=(0,i.v9)(l.lP.getVisibleContacts),t=(0,i.v9)(l.lP.getLoading);return(0,m.jsxs)(m.Fragment,{children:[e?(0,m.jsxs)(b.Z,{hover:!0,children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{style:{width:"40%"},children:"Name"}),(0,m.jsx)("th",{style:{width:"40%"},children:"Phone Number"}),(0,m.jsx)("th",{style:{width:"20%"}})]})}),(0,m.jsx)("tbody",{children:e.map((function(e){return(0,m.jsx)(p,{contact:e},e.id)}))})]}):null,t&&(0,m.jsx)("div",{style:{textAlign:"center"},children:(0,m.jsx)(f.Ll,{color:"#00BFFF",height:80,width:80})})]})},C=(0,d.x0)(),v=function(){var e=(0,i.I0)();return(0,m.jsxs)(u.Z.Group,{className:"mb-3",children:[(0,m.jsx)(u.Z.Label,{htmlFor:C,children:"Find by Name"}),(0,m.jsx)(u.Z.Control,{type:"text",name:"filter",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",id:C,onChange:function(t){var n=t.target.value;e((0,l.M6)(n))},required:!0})]})},g=n(7022),y=n(9743),A=n(2677),w=n(9140);function N(){var e=(0,i.I0)();(0,c.useEffect)((function(){e(l.mh.fetchContacts())}),[e]);var t=(0,i.v9)(l.lP.getVisibleContacts),n=function(){var e=(0,a.Z)(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.find((function(e){return e.name.toLowerCase()===n.name.toLowerCase()}))?j.Am.error("User ".concat(n.name," already exists")):(l.mh.addContact(n),j.Am.success("Contact is successfully added."));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(g.Z,{className:"pt-5",children:(0,m.jsxs)(y.Z,{className:"mx-auto mt-5 justify-content-md-center",children:[(0,m.jsxs)(A.Z,{xs:"auto",md:8,xl:7,className:"p-3",children:[(0,m.jsx)("h2",{children:"Contacts"}),(0,m.jsx)(v,{}),(0,m.jsx)(Z,{})]}),(0,m.jsxs)(w.Z,{as:A.Z,xs:"auto",sm:6,md:4,lg:3,bg:"light",className:"p-3",children:[(0,m.jsx)("h2",{children:"Phonebook"}),(0,m.jsx)(x,{onSubmit:n})]})]})})})}}}]);
//# sourceMappingURL=619.82916d81.chunk.js.map