"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[619],{7619:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var a=n(5861),r=n(7757),s=n.n(r),c=n(2791),o=n(8687),i=n(2793),l=n(885),d=n(5984),u=n(3855),h=n(3360),m=n(9085),x=n(184);var f=(0,o.$j)(null,(function(e){return{onSubmit:function(t){e(i.mh.addContact(t))}}}))((function(){var e=(0,c.useState)(""),t=(0,l.Z)(e,2),n=t[0],a=t[1],r=(0,c.useState)(""),s=(0,l.Z)(r,2),f=s[0],j=s[1],p=(0,o.I0)(),b=(0,o.v9)(i.lP.getVisibleContacts),C=(0,d.x0)(),Z=(0,d.x0)();function v(e){var t=e.target,n=t.name,r=t.value;switch(n){case"username":a(r);break;case"number":j(r);break;default:return}}var g=function(){a(""),j("")};return(0,x.jsxs)(u.Z,{onSubmit:function(e){if(e.preventDefault(),function(e){return b.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}))}(n))return(0,m.Am)("\ud83e\udd14 ".concat(n," is already in the phonebook."));(0,m.Am)("\ud83d\ude0a ".concat(n," creted")),p(i.mh.addContact({name:n,number:f})),g()},children:[(0,x.jsxs)(u.Z.Group,{className:"mb-3",children:[(0,x.jsx)(u.Z.Label,{htmlFor:C,children:"Name"}),(0,x.jsx)(u.Z.Control,{type:"text",name:"username",value:n,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",id:C,onChange:v,required:!0})]}),(0,x.jsxs)(u.Z.Group,{className:"mb-3",children:[(0,x.jsx)(u.Z.Label,{htmlFor:Z,children:"Number"}),(0,x.jsx)(u.Z.Control,{type:"tel",name:"number",value:f,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",id:Z,onChange:v,required:!0})]}),(0,x.jsx)(h.Z,{type:"submit",children:"Add contact"})]})})),j=function(e){var t=e.contact,n=t.id,a=t.name,r=t.number,s=(0,o.v9)(i.lP.getLoading),c=(0,o.I0)();return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:a}),(0,x.jsx)("td",{children:r}),(0,x.jsx)("td",{children:(0,x.jsx)(h.Z,{onClick:function(){return function(e){c(i.mh.deleteContact(e),m.Am.success("Contact deleted."))}(n)},disabled:s,children:"Delete"})})]},n)},p=n(4583),b=n(2591),C=function(){var e=(0,o.v9)(i.lP.getVisibleContacts),t=(0,o.v9)(i.lP.getLoading);return(0,x.jsxs)(x.Fragment,{children:[e?(0,x.jsxs)(b.Z,{hover:!0,children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{style:{width:"40%"},children:"Name"}),(0,x.jsx)("th",{style:{width:"40%"},children:"Phone Number"}),(0,x.jsx)("th",{style:{width:"20%"}})]})}),(0,x.jsx)("tbody",{children:e.map((function(e){return(0,x.jsx)(j,{contact:e},e.id)}))})]}):null,t&&(0,x.jsx)("div",{style:{textAlign:"center"},children:(0,x.jsx)(p.Ll,{color:"#00BFFF",height:80,width:80})})]})},Z=(0,d.x0)(),v=function(){var e=(0,o.I0)();return(0,x.jsxs)(u.Z.Group,{className:"mb-3",children:[(0,x.jsx)(u.Z.Label,{htmlFor:Z,children:"Find by Name"}),(0,x.jsx)(u.Z.Control,{type:"text",name:"filter",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",id:Z,onChange:function(t){var n=t.target.value;e((0,i.M6)(n))},required:!0})]})},g=n(7022),y=n(9743),A=n(2677),w=n(9140);function N(){var e=(0,o.I0)();(0,c.useEffect)((function(){e(i.mh.fetchContacts())}),[e]);var t=(0,o.v9)(i.lP.getVisibleContacts),n=function(){var e=(0,a.Z)(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.find((function(e){return e.name.toLowerCase()===n.name.toLowerCase()}))?m.Am.error("User ".concat(n.name," already exists")):(i.mh.addContact(n),m.Am.success("Contact is successfully added."));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(g.Z,{className:"pt-5",children:(0,x.jsxs)(y.Z,{className:"mx-auto mt-5 justify-content-md-center",children:[(0,x.jsxs)(A.Z,{xs:"auto",md:8,xl:7,className:"p-3",children:[(0,x.jsx)("h2",{children:"Contacts"}),(0,x.jsx)(v,{}),(0,x.jsx)(C,{})]}),(0,x.jsxs)(w.Z,{as:A.Z,xs:"auto",sm:6,md:4,lg:3,bg:"light",className:"p-3",children:[(0,x.jsx)("h2",{children:"Phonebook"}),(0,x.jsx)(f,{onSubmit:n})]})]})})})}}}]);
//# sourceMappingURL=619.8d929be5.chunk.js.map